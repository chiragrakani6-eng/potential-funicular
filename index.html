<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chirag Rakani ‚Äî Accessible Tools & Games Hub</title>

  <!-- Google verification -->
  <meta name="google-site-verification" content="chirag-rakani-google-verify-14526">

  <meta name="description" content="Accessible web hub by Chirag Rakani ‚Äî typing practice, OCR reader, screen-reader friendly games, and tools for visually impaired users.">
  <meta name="theme-color" content="#2c3e50">

  <!-- Tesseract & PDF.js -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">

  <style>
    :root{
      --bg:#f4f7fb; --card:#ffffff; --accent:#2c3e50; --accent-2:#27ae60; --muted:#6b7280;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#111;line-height:1.45}
    header{background:var(--accent);color:#fff;padding:14px 16px;display:flex;align-items:center;gap:10px}
    header h1{font-size:1.05rem;margin:0}
    .container{max-width:980px;margin:18px auto;padding:0 14px}
    .grid{display:grid;grid-template-columns:1fr;gap:14px}
    @media(min-width:900px){.grid{grid-template-columns:320px 1fr}}
    .card{background:var(--card);border-radius:10px;padding:14px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
    .avatar{width:56px;height:56px;border-radius:10px;background:#fff;display:inline-flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent)}
    .muted{color:var(--muted)}
    nav a{display:inline-block;padding:6px 10px;border-radius:8px;color:#fff;background:transparent;margin-right:6px;text-decoration:none}
    .btn{display:inline-block;padding:10px 12px;border-radius:8px;border:0;background:var(--accent-2);color:#fff;cursor:pointer;font-weight:600}
    .social a{margin-right:6px;text-decoration:none;color:var(--accent)}
    h2{margin-top:0}
    .games-list button{width:100%;text-align:left;padding:10px;border-radius:8px;margin-bottom:8px;border:1px solid #eee;background:#fafafa}
    .small{font-size:0.95rem;color:var(--muted)}
    .sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}
    .board{display:grid;grid-template-columns:repeat(6,1fr);gap:6px}
    .cell{background:#f8fafc;border-radius:6px;padding:8px;text-align:center;font-weight:700}
    .dice{font-size:1.4rem;padding:8px;border-radius:8px;border:1px dashed #ccc}
    footer{padding:18px;text-align:center;color:var(--muted);font-size:0.95rem}
    .output-box { background: #f9f9f9; padding: 12px; margin-top: 10px; border: 2px solid #ccc; border-radius: 6px; min-height: 120px; white-space: pre-wrap; }
    #pdf-controls, .typing-controls { display: flex; align-items: center; gap: 8px; margin-top: 10px; padding: 8px; border: 1px solid #ddd; border-radius: 6px; background:#fff; }
    input[type="file"]{padding:8px}
    label{display:flex;gap:6px;align-items:center}
    [aria-live]{padding:6px}
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;gap:12px">
      <div class="avatar">CR</div>
      <div>
        <h1>Chirag's Accessible Tools & Games Hub</h1>
        <div class="small">Tools for visually impaired users ‚Äî typing, OCR, auto read, games</div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="grid">

      <!-- Sidebar -->
      <aside class="card">
        <h2>About Me</h2>
        <p class="small">
          <strong>Chirag Rakani</strong> ‚Äî Gharana, Kutch, Gujarat.  
          Accessible tools developer ‚Ä¢ Typing expert ‚Ä¢ Screen-reader friendly apps creator  
          Fluent in Hindi, Gujarati, English.
        </p>

        <h3>Contact</h3>
        <p class="small">üìû 9737796825<br>‚úâÔ∏è <a href="mailto:chiragrakani6@gmail.com">chiragrakani6@gmail.com</a></p>

        <h3>Follow</h3>
        <div class="social small">
          <a href="https://youtube.com/shorts/Us4sDykOYtc?si=ITbIS3l6enuNzF29" target="_blank">YouTube</a> ‚Ä¢
          <a href="https://www.facebook.com/share/1DH4fAcwqU/" target="_blank">Facebook</a> ‚Ä¢
          <a href="https://www.instagram.com/koli.chirag?igsh=cGNyaTIyNXQ1NWM2" target="_blank">Instagram</a>
        </div>

        <hr>

        <h3>Quick Tools</h3>
        <ul class="small">
          <li><a href="#typing">Typing practice</a></li>
          <li><a href="#ocr">Document reader</a></li>
          <li><a href="#games">Games</a></li>
        </ul>
      </aside>

      <!-- Main content -->
      <section>

        <!-- Typing Practice -->
        <article id="typing" class="card">
          <h2>Typing Practice</h2>

          <div id="practiceWord" class="small">Click Next Word to begin.</div>
          <input id="practiceInput" type="text" placeholder="Type the word here" style="width:100%;padding:8px;margin-top:6px">

          <div class="typing-controls">
            <button class="btn" onclick="nextWord()">Next Word</button>
            <button class="btn" onclick="readWord(currentPracticeWord)">Listen</button>
            <span id="spellFeedback" class="small"></span>
          </div>

          <hr>

          <div id="testParagraph" class="small" style="padding:8px;border:1px solid #eee;border-radius:6px">Type the paragraph & press Start</div>
          <textarea id="typingTestInput" rows="4" style="width:100%;padding:8px;margin-top:6px"></textarea>

          <div class="typing-controls">
            <button class="btn" onclick="resetTypingTest()">Start</button>
            <div id="timer" class="small">Time: 0s</div>
            <div id="wpmResult" class="small">WPM: 0</div>
          </div>
        </article>

        <!-- OCR -->
        <article id="ocr" class="card" style="margin-top:12px">
          <h2>Document Reader (OCR + Auto Read)</h2>

          <input type="file" id="fileInput" accept="image/*, .pdf" style="margin-top:8px">
          <button class="btn" onclick="processFile()" style="margin-top:6px">Read Document</button>

          <div id="pdf-controls" style="display:none;margin-top:8px">
            <label>Go to:
              <input type="number" id="pageNumberInput" min="1" value="1" style="width:70px;margin-left:6px">
            </label>
            <button class="btn" onclick="handleGoToPage()">Go</button>
            <span id="pageInfo" class="small"></span>
          </div>

          <h3>Result:</h3>
          <div id="doc-output" class="output-box">Text will appear here...</div>

          <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
            <label><input type="checkbox" id="autoLang" checked> Auto-detect</label>
            <label>Force:
              <select id="forceLang">
                <option value="">Auto</option>
                <option value="en-IN">English</option>
                <option value="hi-IN">Hindi</option>
                <option value="gu-IN">Gujarati</option>
              </select>
            </label>

            <button id="readDoc" class="btn">Read</button>
            <button id="stopRead" class="btn" style="background:#c0392b">Stop</button>
            <div id="readStatus" class="small"></div>
          </div>
        </article>

        <!-- Games -->
        <article id="games" class="card" style="margin-top:12px">
          <h2>Games (Accessible)</h2>

          <button onclick="window.open('https://lichess.org','_blank')" class="games-btn">‚ôüÔ∏è Play Chess</button>

          <button id="hand-cricket-btn" class="games-btn">üèè Hand Cricket</button>
          <div id="hand-cricket" style="display:none;margin-top:8px">
            <div class="small">Enter 0‚Äì6. If computer matches, you're OUT.</div>
            <div id="hc-status" class="small">Ready</div>

            <input id="hc-input" type="number" min="0" max="6" style="width:90px;margin-top:6px">
            <button class="btn" id="hc-play">Play</button>
            <button class="btn" id="hc-reset" style="background:#777">Reset</button>
          </div>

          <button id="snl-btn" class="games-btn">üé≤ Snakes & Ladders</button>
          <div id="snl" style="display:none;margin-top:8px">
            <div id="snl-status" class="small">Ready</div>
            <button class="btn" id="snl-roll">Roll</button>
            <button class="btn" id="snl-reset" style="background:#777">Reset</button>
            <div class="dice" id="snl-dice">-</div>
            <div id="snl-board"></div>
          </div>

          <button id="ludo-btn" class="games-btn">üéØ Ludo Race</button>
          <div id="ludo" style="display:none;margin-top:8px">
            <div id="ludo-status" class="small">Ready</div>
            <button class="btn" id="ludo-roll">Roll</button>
            <button class="btn" id="ludo-reset" style="background:#777">Reset</button>
            <div id="ludo-scores" class="small"></div>
          </div>
        </article>

      </section>
    </div>
  </main>

  <footer>
    ¬© 2025 Chirag Rakani ‚Äî Accessible Tools Hub
  </footer>

  <div id="game-announce" class="sr-only" aria-live="assertive"></div>

<script>
/* ---------- SPEECH FUNCTION ---------- */
function speak(text){
  if(!('speechSynthesis' in window)) return;
  const u = new SpeechSynthesisUtterance(text);
  u.lang = 'en-IN';
  u.rate = 0.95;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

/* ---------- SPELLING PRACTICE ---------- */
const spellingWords = [
  "accessibility","computer","keyboard","software","screenreader","braille","typing",
  "success","motivation","efficiency","communication","technology","challenge","confidence"
];
let currentPracticeWord="", correctAttempts=0;

function nextWord(){
  correctAttempts=0;
  const w = spellingWords[Math.floor(Math.random()*spellingWords.length)];
  currentPracticeWord = w;
  document.getElementById("practiceWord").innerText = "Word: "+w;
  document.getElementById("practiceInput").value="";
  speak(w);
}

document.getElementById("practiceInput").addEventListener("input", e=>{
  if(!currentPracticeWord) return;
  if(e.target.value.trim().toLowerCase() === currentPracticeWord.toLowerCase()){
    correctAttempts=1;
    document.getElementById("spellFeedback").innerHTML = "<span style='color:green'>Correct ‚úî</span>";
  }
});

/* ---------- TYPING TEST ---------- */
const testText = "Quickly type this paragraph to test your speed. Improving typing helps communication.";
let timer=null, start=0, active=false;

function resetTypingTest(){
  active=false;
  clearInterval(timer);
  document.getElementById("typingTestInput").value="";
  document.getElementById("testParagraph").innerText=testText;
  document.getElementById("timer").innerText="Time: 0s";
  document.getElementById("wpmResult").innerText="WPM: 0";
}

function startTyping(){
  if(!active){
    active=true;
    start=Date.now();
    timer=setInterval(()=>{
      const sec=Math.floor((Date.now()-start)/1000);
      document.getElementById("timer").innerText="Time: "+sec+"s";
      const text=document.getElementById("typingTestInput").value.length;
      const wpm=Math.round((text/5)/(sec/60));
      document.getElementById("wpmResult").innerText="WPM: "+wpm;
    },1000);
  }
}

document.getElementById("typingTestInput").addEventListener("input", startTyping);

/* ---------- GAMES: HAND CRICKET ---------- */
document.getElementById("hand-cricket-btn").onclick = ()=>{
  const el=document.getElementById("hand-cricket");
  el.style.display = el.style.display==="none"?"block":"none";
};

let hcRuns=0, hcBalls=0, hcOut=false;

document.getElementById("hc-play").onclick = ()=>{
  const input = parseInt(document.getElementById("hc-input").value,10);
  const comp = Math.floor(Math.random()*7);
  if(isNaN(input) || input<0 || input>6){
    speak("Enter number 0 to 6");
    return;
  }
  if(hcOut){
    speak("You are out. Reset game.");
    return;
  }
  hcBalls++;
  if(input===comp){
    hcOut=true;
    const msg=`OUT! Total ${hcRuns} runs in ${hcBalls} balls.`;
    document.getElementById("hc-status").innerText = msg;
    speak(msg);
  }else{
    hcRuns+=input;
    const msg=`You: ${input}, Computer: ${comp}. Runs ${hcRuns}`;
    document.getElementById("hc-status").innerText = msg;
    speak(msg);
  }
};

document.getElementById("hc-reset").onclick=()=>{
  hcRuns=0; hcBalls=0; hcOut=false;
  document.getElementById("hc-status").innerText="Ready";
};

/* ---------- SNAKES & LADDERS ---------- */
document.getElementById("snl-btn").onclick = ()=>{
  const el=document.getElementById("snl");
  el.style.display = el.style.display==="none"?"block":"none";
};

let pos=0;
const snakes={16:6,24:9};
const ladders={2:14,7:22};

document.getElementById("snl-roll").onclick = ()=>{
  const d=Math.floor(Math.random()*6)+1;
  let next=pos+d;
  if(next>30) next=pos;
  pos=next;
  if(ladders[pos]) pos=ladders[pos];
  if(snakes[pos]) pos=snakes[pos];
  document.getElementById("snl-dice").innerText = d;
  const msg=`Moved to ${pos}`;
  document.getElementById("snl-status").innerText=msg;
  speak(msg);
};

document.getElementById("snl-reset").onclick=()=>{pos=0;};

/* ---------- LUDO ---------- */
document.getElementById("ludo-btn").onclick = ()=>{
  const el=document.getElementById("ludo");
  el.style.display = el.style.display==="none"?"block":"none";
};

let you=0, compu=0;

document.getElementById("ludo-roll").onclick=()=>{
  const d1=Math.floor(Math.random()*6)+1;
  const d2=Math.floor(Math.random()*6)+1;
  you+=d1; compu+=d2;
  const msg=`You ${you}, Computer ${compu}`;
  document.getElementById("ludo-scores").innerText = msg;
  speak(msg);
};

document.getElementById("ludo-reset").onclick=()=>{you=0; compu=0;};

/* ---------- OCR + AUTO LANGUAGE DETECT ---------- */

if(typeof pdfjsLib !== "undefined"){
  pdfjsLib.GlobalWorkerOptions.workerSrc =
    "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.min.js";
}

let currentPdf=null, totalPages=0;

async function processFile(){
  const f=document.getElementById("fileInput").files[0];
  const out=document.getElementById("doc-output");
  if(!f){ out.innerText="Select a file."; return; }

  out.innerText="Processing...";

  if(f.type==="application/pdf"){
    const arr=await f.arrayBuffer();
    const pdf=await pdfjsLib.getDocument({data:arr}).promise;
    currentPdf=pdf;
    totalPages=pdf.numPages;
    document.getElementById("pdf-controls").style.display="flex";
    displayPage(1);
  } else if(f.type.startsWith("image/")){
    const worker = Tesseract.createWorker();
    await worker.load();
    await worker.loadLanguage("eng+hin+guj");
    await worker.initialize("eng+hin+guj");
    const { data:{ text } } = await worker.recognize(f);
    await worker.terminate();
    out.innerText=text;
    autoRead(text);
  }
}

async function displayPage(n){
  const page=await currentPdf.getPage(n);
  const txt=await page.getTextContent();
  const t=txt.items.map(i=>i.str).join(" ");
  document.getElementById("doc-output").innerText = t;
  autoRead(t);
}

/* LANGUAGE DETECT */
function detectLang(t){
  if(/[\u0A80-\u0AFF]/.test(t)) return "gu-IN";
  if(/[\u0900-\u097F]/.test(t)) return "hi-IN";
  if(/[A-Za-z]/.test(t)) return "en-IN";
  return "en-IN";
}

function speakLong(t, lang){
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(t);
  u.lang=lang;
  u.rate = (lang==="en-IN")?0.95:0.9;
  speechSynthesis.speak(u);
}

function autoRead(txt){
  const auto=document.getElementById("autoLang").checked;
  const forced=document.getElementById("forceLang").value;
  if(!auto && !forced) return;
  const lang = forced || detectLang(txt);
  speakLong(txt, lang);
}

document.getElementById("readDoc").onclick=()=>{
  const txt=document.getElementById("doc-output").innerText;
  const forced=document.getElementById("forceLang").value;
  const lang = forced || detectLang(txt);
  speakLong(txt, lang);
};

document.getElementById("stopRead").onclick=()=>speechSynthesis.cancel();
</script>

</body>
</html>